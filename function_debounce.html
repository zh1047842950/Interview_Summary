<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>JS中的函数防抖</title>

</head>
<body>
<div>
    对应场景：需要延时处理的高频事件

    “函数防抖”的关键在于，在 一个事件 发生 一定时间 之后，才执行 特定动作。意在拦截失误、多余的操作
    举个栗子，坐电梯的时候，如果电梯检测到有人进来（触发事件），就会多等待 10 秒，此时如果又有人进来（10秒之内重复触发事件），那么电梯就会再多等待 10 秒。在上述例子中，电梯在检测到有人进入 10
    秒钟之后，才会关闭电梯门开始运行

    函数防抖的要点，是需要一个 setTimeout 来辅助实现，延迟运行需要执行的代码。如果方法多次触发，则把上次记录的延迟执行代码用 clearTimeout
    清掉，重新开始计时。若计时期间事件没有被重新触发，等延迟时间计时完毕，则执行目标代码。
</div>
</body>
<script lang="js">
  function debounce (fn, wait) {
    var timer = null
    return function () {
      if (timer !== null) {
        clearTimeout(timer)
      }
      timer = setTimeout(fn, wait)
    }
  }

  function handle () {
    console.log(new Date().getTime())
  }

  window.addEventListener('mousemove', debounce(handle, 1000))
</script>
</html>
