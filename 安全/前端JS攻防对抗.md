爬虫攻防手段

阶段	攻击	防御
1	简单脚本编写爬虫，Python、Java等	通过检测User-Agent、HTTP Headers来区分是否为机器人
2	添加正常浏览器请求头部，伪装成正常用户访问	通过检测IP访问频率，分析出短时间出现访问次数异常的IP，进行封禁
3	使用IP代理池，秒拨等技术，拥有大量IP	避免通过HTML访问直接获取数据，进行网站重构，使用Ajax动态传输数据
4	分析数据传输接口，直接访问接口获取数据	添加验证码、JS参数加密
5	深度学习破解验证码、JS调试破解参数加密	寻求第三方安全产品

JS防破解主要客户分为两个部分：代码混淆和反调试。
    代码混淆
    从代码布局、数据、控制三个方面入手，进行混淆。
        布局混淆
            常见手段有无效代码删除，常量名、变量名、函数名等标识符混淆等。
        数据混淆
            常见数据类型混淆有数字、字符串、数组、布尔等。    
        控制混淆
            控制流平坦化
    反调试
        攻击手法	防御手法
        控制台打开	控制台快捷删除，窗口宽度检测
        控制台调试器打开	debugger
        控制台输出	控制台清空，内置函数重写
        控制台打断点	scope检测、debugger
        控制台调用DOM事件	堆栈检测
        函数、对象属性修改	函数防劫持、对象冻结
        NodeJS本地调式分析	代码格式化检测            